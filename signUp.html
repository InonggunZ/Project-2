<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">


<style>
    .topnav {
    background-color: #333;
    overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
    float: left;
    display: block;
    color: #f2f2f2;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
    font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
    background-color: #ddd;
    color: black;
}

/* Add a color to the active/current link */
.topnav a.active {
    background-color: #4CAF50;
    color: white;
}
</style>

  </head>
  <body>
  <div class="container">
  <div class="topnav" id="myTopnav">
  <a href="Home.html">Home</a>
  <a href="signIn.html">Sign in</a>
  </div>
</div>


    <div class="container">
      <h1 c>Register new user</h1>
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Register in to the system</h3>
        </div>
      <div class="panel-body">

      <form id="contact" class="" action="#" method="post">

        <div class="form-group">
          <label for="uname" class="col-sm-2">Username</label>
          <input type="text" class="form-control" id="uname" placeholder="input username">
          <p class="help-block">input your username</p>
        </div>

        <div class="form-group">
          <label for="password" class="col-sm-2">Password</label>
          <input type="text" class="form-control" id="password" placeholder="input password" maxlength="12">
          <p class="help-block">input your password</p>
        </div>

        <div class="form-group">
          <label for="fname" class="col-sm-2">Firstname</label>
          <input type="text" class="form-control" id="fname" placeholder="input firstname" >
          <p class="help-block">input your firstname</p>
        </div>

        <div class="form-group">
          <label for="lname" class="col-sm-2">Lastname</label>
          <input type="text" class="form-control" id="lname" placeholder="input lastname">
          <p class="help-block">input your lastname</p>
        </div>

        <div class="form-group">
          <label for="email" class="col-sm-2">Email</label>
          <input type="text" class="form-control" id="email" placeholder="input email" >
          <p class="help-block">input your email</p>
        </div>

        <div class="form-group">
          <label for="tele" class="col-sm-2">Telephone</label>
          <input type="text" class="form-control" id="tele" placeholder="input telephone" >
          <p class="help-block">input yor telephone</p>
        </div>

        <button type="button" name="button" class="btn btn-primary col-sm-offset-10" id="sign">Submit</button>
        &nbsp &nbsp<a href="Home.html" type="button"class="w3-btn">Home</a>
      </form>
     </div>
   </div>
 </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.16.0/jquery.validate.min.js" charset="utf-8"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script type="text/javascript">




    $("#sign").click(function(){
      var newuser={
          username:"",
          password:"",
          firstname:"",
          lastname:"",
          email:"",
          tel:"",

      };
      validateForm();
      newuser.username = $("#uname").val();
      newuser.password = $("#password").val();
      newuser.firstname = $("#fname").val();
      newuser.lastname = $("#lname").val();
      newuser.email = $("#email").val();
      newuser.tel = $("#tele").val();
      console.log(newuser);

      var url = "http://membershipwebapi977290.azurewebsites.net/api/Members";
      $.post(url, newuser, function(data, status){
        console.log("inserted"+ data);
      });
    });

    function validateForm(){

    var nameReg = /^[A-Za-z]+$/;
    var numberReg =  /^[0-9]+$/;
    var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;

    var names = $('#uname').val();
    var passwords = $('#password').val();
    var fnames = $('#fname').val();
    var lnames = $('#lname').val();
    var emails = $('#email').val();
    var teles = $('#tele').val();

    var inputVal = new Array(names, passwords, fnames, lnames, emails, teles);

    var inputMessage = new Array("user name", "password", "first name", "last name", "email","telephone");

     $('.error').hide();

        if(inputVal[0] == ""){
            $('#uname').after('<span class="error"> Please enter your ' + inputMessage[0] + '</span>');
        }
        else if(!nameReg.test(names)){
            $('#uname').after('<span class="error"> Letters only</span>');
        }


        if(inputVal[1] == ""){
            $('#password').after('<span class="error"> Please enter your ' + inputMessage[1] + '</span>');
        }
        else if(!numberReg.test(passwords)){
            $('#password').after('<span class="error"> Number only</span>');
        }


        if(inputVal[2] == ""){
            $('#fname').after('<span class="error"> Please enter your ' + inputMessage[2] + '</span>');
        }
        else if(!nameReg.test(fnames)){
            $('#fname').after('<span class="error"> Please enter a valid email address</span>');
        }


        if(inputVal[3] == ""){
            $('#lname').after('<span class="error"> Please enter your ' + inputMessage[3] + '</span>');
        }
        else if(!nameReg.test(lnames)){
            $('#lname').after('<span class="error"> Letter only</span>');
        }


        if(inputVal[4] == ""){
            $('#email').after('<span class="error"> Please enter your ' + inputMessage[4] + '</span>');
        }
        else if(!emailReg.test(emails)){
            $('#email').after('<span class="error"> Please enter a valid email address </span>');
        }


        if(inputVal[5] == ""){
            $('#tele').after('<span class="error"> Please enter your ' + inputMessage[5] + '</span>');
        }
        else if(!numberReg.test(teles)){
            $('#tele').after('<span class="error">  </span>');
        }
}



    </script>
    </script>
  </body>
</html>
